"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const node_fs_1 = require("node:fs");
/**
 * Load GraphQL schema from .gql / .graphql files
 *
 * ```js
 * let typeDefs = loadGraphQL("schema.graphql", "response.gql", "graphql-types");
 * ```
 *
 * @since v1.0.0
 * @param ...schema string[]
 * @returns Promise<string>
 */
function loadGraphQL(...schema) {
    let res = "";
    for (let schemaSource of schema) {
        res += `${readSource(schemaSource)}\n`;
    }
    return res;
}
function readSource(source) {
    let stat = (0, node_fs_1.statSync)(source);
    if (stat.isFile()) {
        if (source.includes(".gql") || source.includes(".graphql") || source.includes(".graphqls")) {
            let content = (0, node_fs_1.readFileSync)(source);
            return content.toString("utf-8");
        }
        return "";
    }
    else if (stat.isDirectory()) {
        let content = "";
        for (let src of (0, node_fs_1.readdirSync)(source)) {
            content += readSource(`${source}/${src}`);
        }
        return content;
    }
    else {
        throw new Error(`ERROR: The source \"${source}\" is neither file nor directory`);
    }
}
exports.default = loadGraphQL;
